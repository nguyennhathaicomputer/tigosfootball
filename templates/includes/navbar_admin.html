{% load static %}
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navbar với dropdown</title>
    <!-- Link Font Awesome cho icon (tùy chọn) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Link file CSS riêng -->
    <link rel="stylesheet" href="{% static 'css/navbar.css' %}">
</head>
<body>
    <!-- Giả sử header đã có, đây là navbar -->
    <nav class="navbar">
        <div class="navbar__container">
            <!-- Nút hamburger cho mobile -->
            <div class="navbar__toggle" id="navbar-toggle">
                <i class="fas fa-bars"></i>
            </div>

            <!-- Menu chính -->
            <ul class="nav-menu" id="nav-menu">
                <li class="nav-item dropdown">
                    <a href="{% url 'admin_user:create_product' %}" class="nav-link dropdown-toggle">Thêm Sản Phẩm Mới</a>
                    {% comment %} <ul class="dropdown-menu">
                        <li><a href="#">Mục con 1.1</a></li>
                        <li><a href="#">Mục con 1.2</a></li>
                        <li><a href="#">Mục con 1.3</a></li>
                        <li><a href="#">Mục con 1.4</a></li>
                    </ul> {% endcomment %}
                </li>
                <li class="nav-item dropdown">
                    <a href="#" class="nav-link dropdown-toggle">Sản Phẩm Đã có sẵn</a>
                    {% comment %} <ul class="dropdown-menu">
                        <li><a href="#">Mục con 2.1</a></li>
                        <li><a href="#">Mục con 2.2</a></li>
                        <li><a href="#">Mục con 2.3</a></li>
                        <li><a href="#">Mục con 2.4</a></li>
                    </ul> {% endcomment %}
                </li>
                <li class="nav-item dropdown">
                    <a href="#" class="nav-link dropdown-toggle">Xóa Sản Phẩm</a>
                    {% comment %} <ul class="dropdown-menu">
                        <li><a href="#">Mục con 3.1</a></li>
                        <li><a href="#">Mục con 3.2</a></li>
                        <li><a href="#">Mục con 3.3</a></li>
                        <li><a href="#">Mục con 3.4</a></li>
                    </ul> {% endcomment %}
                </li>
                <li class="nav-item dropdown">
                    <a href="#" class="nav-link dropdown-toggle">Thành phần 4 <i class="fas fa-chevron-down"></i></a>
                    {% comment %} <ul class="dropdown-menu">
                        <li><a href="#">Mục con 4.1</a></li>
                        <li><a href="#">Mục con 4.2</a></li>
                        <li><a href="#">Mục con 4.3</a></li>
                        <li><a href="#">Mục con 4.4</a></li>
                    </ul> {% endcomment %}
                </li>
                <li class="nav-item dropdown">
                    <a href="#" class="nav-link dropdown-toggle">Thành phần 5 <i class="fas fa-chevron-down"></i></a>
                    {% comment %} <ul class="dropdown-menu">
                        <li><a href="#">Mục con 5.1</a></li>
                        <li><a href="#">Mục con 5.2</a></li>
                        <li><a href="#">Mục con 5.3</a></li>
                        <li><a href="#">Mục con 5.4</a></li>
                    </ul> {% endcomment %}
                </li>
                <li class="nav-item dropdown">
                    <a href="#" class="nav-link dropdown-toggle">Thành phần 6 <i class="fas fa-chevron-down"></i></a>
                    {% comment %} <ul class="dropdown-menu">
                        <li><a href="#">Mục con 6.1</a></li>
                        <li><a href="#">Mục con 6.2</a></li>
                        <li><a href="#">Mục con 6.3</a></li>
                        <li><a href="#">Mục con 6.4</a></li>
                    </ul> {% endcomment %}
                </li>
            </ul>
        </div>
    </nav>

    <!-- Nội dung giả -->
    {% comment %} <main style="padding: 20px; background: #f0f0f0; min-height: 100vh;">
        <h1>Nội dung trang</h1>
        <p>Cuộn để xem navbar dính (nếu có).</p>
    </main> {% endcomment %}

    <!-- JavaScript cho navbar responsive -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const toggle = document.getElementById('navbar-toggle');
            const menu = document.getElementById('nav-menu');
            
            // Toggle menu khi click hamburger
            toggle.addEventListener('click', function() {
                menu.classList.toggle('active');
            });

            // Xử lý dropdown trên mobile: click vào .dropdown-toggle để xổ menu
            const dropdownToggles = document.querySelectorAll('.dropdown-toggle');
            dropdownToggles.forEach(function(toggle) {
                toggle.addEventListener('click', function(e) {
                    // Chỉ xử lý trên mobile (khi menu đang ở dạng dọc)
                    if (window.innerWidth <= 768) {
                        e.preventDefault(); // Ngăn chuyển trang
                        const parent = this.closest('.dropdown');
                        parent.classList.toggle('active');
                    }
                });
            });

            // Đóng menu khi resize lên desktop (nếu đang mở)
            window.addEventListener('resize', function() {
                if (window.innerWidth > 768) {
                    menu.classList.remove('active');
                    // Đóng tất cả dropdown active
                    document.querySelectorAll('.dropdown.active').forEach(function(drop) {
                        drop.classList.remove('active');
                    });
                }
            });
        });
    </script>
</body>
</html>